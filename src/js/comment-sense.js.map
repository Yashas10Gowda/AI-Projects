{"version":3,"file":"comment-sense.js","sourceRoot":"","sources":["../comment-sense.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAqB,MAAM,KAAK,CAAC;AAC/D,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAKhE,IAAa,EAAE,GAAf,MAAa,EAAG,SAAQ,UAAU;IAI9B;QACI,KAAK,EAAE,CAAC;QA2BZ,YAAO,GAAW,EAAE,CAAC;QACrB,YAAO,GAAY,IAAI,CAAC;QACxB,WAAM,GAAQ,EAAE,CAAC;QA5Bb,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC9B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IA4BD,MAAM;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;YACjD,IAAI,gBAAgB,GAAY,KAAK,CAAC;YACtC,WAAW,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;gBAC/B,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE;oBAC7B,gBAAgB,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAA,gCAAiC,UAAU,CAAC,KAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;iBAC/G;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,EAAE;gBACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAA,4DAA4D,CAAC,CAAC;aACtF;YACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,KAAK;QACD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,OAAO;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;IACpC,CAAC;IAED,MAAM;QACF,OAAO,IAAI,CAAA;;;;;;;;;2FASwE,IAAI,CAAC,OAAO;iEACtC,IAAI,CAAC,MAAM,aAAa,IAAI,CAAC,OAAO;iEACpC,IAAI,CAAC,KAAK;;;;;;cAM7D,IAAI,CAAC,MAAM;;SAEhB,CAAC;IACN,CAAC;CACJ,CAAA;AA/EU,SAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;KAkBlB,CAAC;AA5BF;IADC,KAAK,EAAE;iCACQ;AAkChB;IADC,KAAK,CAAC,UAAU,CAAC;iCACO;AApChB,EAAE;IADd,aAAa,CAAC,eAAe,CAAC;GAClB,EAAE,CA2Fd;SA3FY,EAAE","sourcesContent":["import { LitElement, html, css, nothing, Template } from 'lit';\nimport { customElement, query, state } from 'lit/decorators.js';\ndeclare var tf: any;\ndeclare var toxicity: any;\n\n@customElement('comment-sense')\nexport class CS extends LitElement {\n    @state()\n    protected model;\n\n    constructor() {\n        super();\n        toxicity.load(0.75).then(tmodel => {\n            this.model = tmodel;\n            this.loading = false;\n        });\n    }\n\n    static styles = css`\n        p{\n            text-align:center;\n        }\n        .tinit-center{\n            max-width:500px;\n            margin: 0 auto;\n            text-align:center;\n        }\n        sl-input{\n            margin: 5px 0;\n        }\n        .center{\n            text-align:center;\n        }\n        sl-tag{\n            margin: 2px 2px;\n        }\n    `;\n\n    comment: string = '';\n    loading: boolean = true;\n    senses: any = [];\n    @query('sl-input')\n    input!: HTMLInputElement;\n\n    submit() {\n        this.loading = true;\n        this.senses = [];\n        this.requestUpdate();\n        this.model.classify(this.comment).then(predictions => {\n            let atleastOneExists: boolean = false;\n            predictions.forEach((prediction) => {\n                if (prediction.results[0].match) {\n                    atleastOneExists = true;\n                    this.senses.push(html`<sl-tag pill type = \"danger\">${(prediction.label as string).toUpperCase()}</sl-tag>`);\n                }\n            });\n            if (!atleastOneExists) {\n                this.senses.push(html`<sl-tag pill type =\"success\">No Toxicity Detected</sl-tag>`);\n            }\n            this.loading = false;\n            this.requestUpdate();\n        });\n    }\n\n    reset() {\n        this.input.value = \"\";\n        this.comment = \"\";\n        this.senses = [];\n        this.requestUpdate();\n    }\n\n    changed() {\n        this.comment = this.input.value;\n    }\n\n    render() {\n        return html`\n        <div class=\"tinit-center\">\n            <p>Before you comment verbally or digitally make sure it's\n                not\n                toxic!\n                <br>\n                <small>For assistance use Artificial Intelligence ;)</small>\n            </p>\n            <br>\n            <sl-input pill label=\"Comment:\" placeholder=\"Your comment goes here.\" @input=${this.changed}></sl-input>\n            <sl-button pill size=\"small\" type=\"primary\" @click=${this.submit} ?loading=${this.loading}>Submit</sl-button>\n            <sl-button pill size=\"small\" type=\"default\" @click=${this.reset}>Reset</sl-button>        \n            <br>\n            <br>\n            <br>\n            <slot name=\"label\">Sense:</slot>\n            <br>\n            ${this.senses}\n        </div>\n        `;\n    }\n}"]}